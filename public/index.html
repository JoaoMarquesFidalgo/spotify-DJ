<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="apple-touch-icon" sizes="180x180" href="%PUBLIC_URL%/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="%PUBLIC_URL%/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="%PUBLIC_URL%/favicon-16x16.png">
    <link rel="manifest" href="%PUBLIC_URL%/site.webmanifest">
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src='https://cdnjs.com/libraries/bootstrap-slider'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <script type="module" src="app.js"></script>
    <title>Spotify DJ (Beta)</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script>
      // Stupid binding for PAUSE/PLAY
      window.onkeydown = function(event){
      if(event.keyCode === 32) { // Spacebar
        event.preventDefault();
        window.Spotify.PlayerInstance.togglePlay();
      } else if(event.keyCode === 37 || event.keyCode === 177) { // Arrow Left
        event.preventDefault();
        window.Spotify.PlayerInstance.previousTrack();
      } else if(event.keyCode === 39 || event.keyCode === 176) { // Arrow Right
        event.preventDefault();
        window.Spotify.PlayerInstance.nextTrack();
      } else if(event.keyCode === 38) {
        window.Spotify.PlayerInstance.getVolume().then(volume => {
          if(volume >= 1) return;
          window.Spotify.PlayerInstance.setVolume(volume + 0.1);
        });
      } else if(event.keyCode === 40) {
        window.Spotify.PlayerInstance.getVolume().then(volume => {
          if(volume <= 0) return;
          window.Spotify.PlayerInstance.setVolume(volume - 0.1);
        });
      }
    };
    </script>
  </body>
</html>
